# 贝叶斯优化材料组分系统

这是一个基于Docker的贝叶斯优化系统，用于材料组分、工艺条件等的优化。该系统允许用户通过迭代实验和机器学习模型来优化材料性能，无需在本地安装Python环境或其他库。

## 功能特点

1. **数据上传与处理**：
   - 支持从本地上传CSV文件
   - 自动转换为数据表格式
   - 可选择特定列作为特征和优化目标

2. **多模型训练与评估**：
   - 支持多种机器学习模型：Lasso、随机森林、XGBoost、SVR和高斯过程
   - 自动进行交叉验证(CV)和超参数优化
   - 比较测试集上的性能指标(R²或RMSE)
   - 自动选择最优模型并使用全部数据进行训练

3. **特征空间网格搜索**：
   - 可定义特征的范围和步长
   - 生成特征空间网格
   - 使用最优模型进行网格搜索
   - 支持多种采样函数(EI、UCB等)推荐下一轮实验条件
   - 可自定义推荐实验数量

4. **迭代优化**：
   - 支持补充新的实验数据
   - 重新训练模型并更新推荐
   - 循环迭代，不断优化实验条件

## 快速开始

### 使用Docker运行

1. 确保已安装Docker

2. 拉取镜像
   ```bash
   docker pull [镜像名称]
   ```

3. 运行容器
   ```bash
   docker run -p 8501:8501 [镜像名称]
   ```

4. 在浏览器中访问 `http://localhost:8501` 打开应用界面

## 使用指南

1. **数据上传**：
   - 点击"上传CSV文件"按钮
   - 选择包含实验数据的CSV文件
   - 选择作为特征的列和目标列

2. **模型训练**：
   - 点击"训练模型"按钮
   - 系统将自动训练多个模型并显示评估结果
   - 选择最佳模型用于后续优化

3. **特征空间定义**：
   - 为每个特征设置范围和步长
   - 点击"生成特征空间"按钮

4. **实验推荐**：
   - 选择采样函数(EI、UCB等)
   - 设置推荐实验数量
   - 点击"生成推荐"按钮获取下一轮实验条件

5. **迭代优化**：
   - 完成推荐实验后，上传新的实验结果
   - 点击"更新模型"按钮重新训练
   - 获取新的实验推荐，继续迭代

## 项目结构

```
├── app/                    # 应用主目录
│   ├── main.py             # 主应用入口
│   ├── pages/              # 多页面应用组件
│   ├── utils/              # 工具函数
│   ├── models/             # 机器学习模型
│   └── optimization/       # 贝叶斯优化相关代码
├── data/                   # 数据存储目录
├── tests/                  # 测试代码
├── Dockerfile              # Docker配置文件
├── requirements.txt        # 项目依赖
└── README.md               # 项目说明
```

## 技术栈

- **前端**：Streamlit
- **后端**：Python
- **机器学习**：scikit-learn, XGBoost, GPy
- **优化算法**：scikit-optimize, GPyOpt
- **容器化**：Docker

## 贡献指南

欢迎提交问题和拉取请求，共同改进这个项目。

## 许可证

[MIT](LICENSE)